<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>undervalued companies, from Twitter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="/static/css/bootstrap.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="/static/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../assets/ico/favicon.png">
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.1/jquery-ui.min.js"></script>
<script>

//function n(){console.log(5)};
//var g=scrap();
//;

function scrap(){
var request = require('request');
var cheerio = require('cheerio');
var text='';
request({
  uri: "http://finance.yahoo.com/q?s=AAPL",
}, function(error, response, body) {
	var $ = cheerio.load(body);
  
 $('.rtq_table').each(function(){
  	var data = $(this);
  	var text = console.log(data.html())
  	//var text=data.html();
  

                                  });
				 });
	return text;
          }
          
//var g=scrap();
      	function my(a){
      			//var text=console.log(scrap());
      			//var f=scrap();
      		    var c= a;
  var button = document.createElement('button');
  button.id = c;
  button.innerHTML = 'click me';
  $(function(){
    $(".dialog").dialog({
      autoOpen: false,
      show: {
        effect: "blind",
        duration: 1000
             },
      hide: {
        effect: "explode",
        duration: 1000
             }
                        });
    
    $("[id="+"'"+c+"'"+"]").click(function() {
      //$('<p>'+'lkj.m'+'</p>').appendTo('.dialog');
       //var f=scrap();
      //var l=text;
      //var s='<p>'+f+'</p>'
      $('.dialog').html(<table id="table1"><tr><th scope="row" width="48%">Prev Close:</th><td class="yfnc_tabledata1">489.64</td></tr><tr><th scope="row" width="48%">Open:</th><td class="yfnc_tabledata1">486.99</td></tr><tr><th scope="row" width="48%">Bid:</th><td class="yfnc_tabledata1"><span id="yfs_b00_aapl">492.81</span><small> x <span id="yfs_b60_aapl">100</span></small></td></tr><tr><th scope="row" width="48%">Ask:</th><td class="yfnc_tabledata1"><span id="yfs_a00_aapl">493.27</span><small> x <span id="yfs_a50_aapl">100</span></small></td></tr><tr><th scope="row" width="48%">1y Target Est:</th><td class="yfnc_tabledata1">548.21</td></tr><tr><th scope="row" width="48%">Beta:</th><td class="yfnc_tabledata1">0.58</td></tr><tr><th scope="row" width="54%">Next Earnings Date:</th><td class="yfnc_tabledata1">28-Oct-13<span id="earn_cal_div"><a onclick="window.open(&apos;http://calendar.yahoo.com/?v=60&amp;ST=20131028&amp;TITLE=AAPL Earnings announcement&amp;VIEW=d&amp;REM1=7d&amp;REM2=1d&apos;, &apos;earnwin&apos;, &apos;toolbars=no,scrollbars=no&apos;)"><img class="earn_cal_icon" src="http://l.yimg.com/os/mit/media/m/base/images/transparent-1093278.png" alt="AAPL Earnings announcement" title="AAPL Earnings announcement" id="earn_cal_img"></a></span></td></tr></table><table id="table2"><tr><th scope="row" width="48%">Days Range:</th><td class="yfnc_tabledata1"><span><span id="yfs_g53_aapl">485.16</span></span> - <span><span id="yfs_h53_aapl">493.84</span></span></td></tr><tr><th scope="row" width="48%">52wk Range:</th><td class="yfnc_tabledata1"><span>385.10</span> - <span>652.79</span></td></tr><tr><th scope="row" width="48%">Volume:</th><td class="yfnc_tabledata1"><span id="yfs_v53_aapl">9,562,134</span></td></tr><tr><th scope="row" width="48%">Avg Vol <span class="small">(3m)</span>:</th><td class="yfnc_tabledata1">12,785,000</td></tr><tr><th scope="row" width="48%">Market Cap:</th><td class="yfnc_tabledata1"><span id="yfs_j10_aapl">447.72B</span></td></tr><tr><th scope="row" width="48%">P/E <span class="small">(ttm)</span>:</th><td class="yfnc_tabledata1">12.29</td></tr><tr><th scope="row" width="48%">EPS <span class="small">(ttm)</span>:</th><td class="yfnc_tabledata1">40.11</td></tr><tr class="end"><th scope="row" width="48%">Div &amp; Yield:</th><td class="yfnc_tabledata1">12.20 (2.50%) </td></tr></table>;)
      //document.getElementById("dialog").innerHTML=scrap();
      $( ".dialog" ).dialog( "open" );
                   });
  });
  
  
  
  // where do we want to have the button to appear?
  // you can append it to another element just by doing something like
  
  $(button).appendTo('.quote')
  
  //document.getElementsByClassName('quote').appendChild(button);
  //document.body.appendChild(button);
};

//function n(){return 5}





</script>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="#">the latest</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="http://peaceful-bayou-9598.herokuapp.com">home</a></li>
              <li><a href="http://peaceful-bayou-9598.herokuapp.com/about">About</a></li>
              <li><a href="http://peaceful-bayou-9598.herokuapp.com/links">links</a></li>
              <li><a href="http://peaceful-bayou-9598.herokuapp.com/stocks">stocks</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>
	<link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <div class="container">

      <h1>Stock List</h1>
    
	<link href="/static/css/new.css" rel="stylesheet" >	
      		<div class='tck'>
      		 <div class='quote'>
      		{% for t in tick %}
      		
      			 <li> {{ t[1:-1] }} <script>my({{ t|safe }})</script> </li>
      			  
     	 	{% endfor %}
     	 	 </div>
      		</div>

    </div> <!-- /container -->
    <div class="dialog" title="Basic dialog">
      			  		
      			  </div>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../assets/js/jquery.js"></script>
    <script src="../assets/js/bootstrap-transition.js"></script>
    <script src="../assets/js/bootstrap-alert.js"></script>
    <script src="../assets/js/bootstrap-modal.js"></script>
    <script src="../assets/js/bootstrap-dropdown.js"></script>
    <script src="../assets/js/bootstrap-scrollspy.js"></script>
    <script src="../assets/js/bootstrap-tab.js"></script>
    <script src="../assets/js/bootstrap-tooltip.js"></script>
    <script src="../assets/js/bootstrap-popover.js"></script>
    <script src="../assets/js/bootstrap-button.js"></script>
    <script src="../assets/js/bootstrap-collapse.js"></script>
    <script src="../assets/js/bootstrap-carousel.js"></script>
    <script src="../assets/js/bootstrap-typeahead.js"></script>

  </body>
</html>
